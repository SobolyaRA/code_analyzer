package org.example.vulnerability;

import org.example.model.User;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;



public class SqlInjectionXSS {

    public void processRequest(HttpServletRequest request, HttpServletResponse response, Connection connection) throws Exception {
        // Получение пользовательского ввода
        String username = request.getParameter("username");
        String comment = request.getParameter("comment" + username);

        // Уязвимость SQL-инъекции
        Statement statement = connection.createStatement();
        statement.executeQuery("SELECT * FROM users WHERE name = '" + username + "'");

        // Уязвимость XSS
        response.getWriter().write("<html><body>User comment: " + comment + "</body></html>");
        response.getWriter().println("<html><body>User comment: " + comment + "</body></html>");
    }

}


